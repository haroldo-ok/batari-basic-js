<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  </head>
  <body>

	<pre id="output"></pre>
	<pre id="error" style="color: red"></pre>
  
	<script type="text/javascript">
		Module = { 
			  preRun: function() {
				var SOURCE = [
					" dim carpos=a",
					" dim turndelay=b",
					"mainloop",
					"  drawscreen",
					"  goto mainloop",
				].join('\n');
				
				var position = 0;
				
				var out = document.getElementById('output');
				var err = document.getElementById('error');
			  
				function stdin() {
					var ch = position >= SOURCE.length ? null : SOURCE[position];
					position++;
					return ch;
				}

				function stdout(asciiCode) {
					out.innerHTML = out.innerHTML + String.fromCharCode(asciiCode);
				}

				function stderr(asciiCode) {
					err.innerHTML = err.innerHTML + String.fromCharCode(asciiCode);
				}

				FS.init(stdin, stdout, stderr);
				
				FS.writeFile("default.inc", "bB.asm");
			  }
		};
	</script>
    <script type="text/javascript" src="2600basic.em.js"></script>
  </body>
</html>
